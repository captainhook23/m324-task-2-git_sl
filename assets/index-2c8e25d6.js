(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();const G="modulepreload",Z=function(n){return"/"+n},O={},v=function(t,e,r){if(!e||e.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(e.map(o=>{if(o=Z(o),o in O)return;O[o]=!0;const i=o.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const l=s[c];if(l.href===o&&(!i||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":G,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((c,l)=>{u.addEventListener("load",c),u.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})};class x{}class m{constructor(t,e){this.webixJet=!0,this.webix=t,this._events=[],this._subs={},this._data={},e&&e.params&&t.extend(this._data,e.params)}getRoot(){return this._root}destructor(){this._detachEvents(),this._destroySubs(),this._events=this._container=this.app=this._parent=this._root=null}setParam(t,e,r){if(this._data[t]!==e&&(this._data[t]=e,this._segment.update(t,e,0),r))return this.show(null)}getParam(t,e){const r=this._data[t];if(typeof r<"u"||!e)return r;const s=this.getParentView();if(s)return s.getParam(t,e)}getUrl(){return this._segment.suburl()}getUrlString(){return this._segment.toString()}getParentView(){return this._parent}$$(t){if(typeof t=="string"){const e=this.getRoot();return e.queryView(r=>(r.config.id===t||r.config.localId===t)&&r.$scope===e.$scope,"self")}else return t}on(t,e,r){const s=t.attachEvent(e,r);return this._events.push({obj:t,id:s}),s}contains(t){for(const e in this._subs){const r=this._subs[e].view;if(r===t||r.contains(t))return!0}return!1}getSubView(t){const e=this.getSubViewInfo(t);if(e)return e.subview.view}getSubViewInfo(t){const e=this._subs[t||"default"];return e?{subview:e,parent:this}:t==="_top"?(this._subs[t]={url:"",id:null,popup:!0},this.getSubViewInfo(t)):this._parent?this._parent.getSubViewInfo(t):null}_detachEvents(){const t=this._events;for(let e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id)}_destroySubs(){for(const t in this._subs){const e=this._subs[t].view;e&&e.destructor()}this._subs={}}_init_url_data(){const t=this._segment.current();this._data={},this.webix.extend(this._data,t.params,!0)}_getDefaultSub(){if(this._subs.default)return this._subs.default;for(const t in this._subs){const e=this._subs[t];if(!e.branch&&e.view&&t!=="_top"){const r=e.view._getDefaultSub();if(r)return r}}}_routed_view(){const t=this.getParentView();if(!t)return!0;const e=t._getDefaultSub();return!e&&e!==this?!1:t._routed_view()}}function U(n){n[0]==="/"&&(n=n.substr(1));const t=n.split("/"),e=[];for(let r=0;r<t.length;r++){const s=t[r],o={};let i=s.indexOf(":");if(i===-1&&(i=s.indexOf("?")),i!==-1){const a=s.substr(i+1).split(/[\:\?\&]/g);for(const h of a){const u=h.split("=");o[u[0]]=decodeURIComponent(u[1])}}e[r]={page:i>-1?s.substr(0,i):s,params:o,isNew:!0}}return e}function y(n){const t=[];for(const e of n){t.push("/"+e.page);const r=Q(e.params);r&&t.push("?"+r)}return t.join("")}function Q(n){const t=[];for(const e in n)typeof n[e]!="object"&&(t.length&&t.push("&"),t.push(e+"="+encodeURIComponent(n[e])));return t.join("")}class b{constructor(t,e){this._next=1,typeof t=="string"?this.route={url:U(t),path:t}:this.route=t,this.index=e}current(){return this.route.url[this.index]}next(){return this.route.url[this.index+this._next]}suburl(){return this.route.url.slice(this.index)}shift(t){const e=new b(this.route,this.index+this._next);return e.setParams(e.route.url,t,e.index),e}setParams(t,e,r){if(e){const o=t[r].params;for(var s in e)o[s]=e[s]}}refresh(){const t=this.route.url;for(let e=this.index+1;e<t.length;e++)t[e].isNew=!0}toString(){const t=y(this.suburl());return t?t.substr(1):""}_join(t,e){let r=this.route.url;if(t===null)return r;const s=this.route.url;let o=!0;if(r=s.slice(0,this.index+(e?this._next:0)),t){r=r.concat(U(t));for(let i=0;i<r.length;i++)s[i]&&(r[i].view=s[i].view),o&&s[i]&&r[i].page===s[i].page?r[i].isNew=!1:r[i].isNew&&(o=!1)}return r}append(t){const e=this._join(t,!0);return this.route.path=y(e),this.route.url=e,this.route.path}show(t,e,r){const s=this._join(t.url,r);return this.setParams(s,t.params,this.index+(r?this._next:0)),new Promise((o,i)=>{const a=y(s),h={url:s,redirect:a,confirm:Promise.resolve()},u=e?e.app:null;if(u&&!u.callEvent("app:guard",[h.redirect,e,h])){i(new x);return}h.confirm.catch(c=>i(c)).then(()=>{if(h.redirect===null){i(new x);return}if(h.redirect!==a){u.show(h.redirect),i(new x);return}this.route.path=a,this.route.url=s,o()})})}size(t){this._next=t}split(){const t={url:this.route.url.slice(this.index+1),path:""};return t.url.length&&(t.path=y(t.url)),new b(t,0)}update(t,e,r){const s=this.route.url[this.index+(r||0)];if(!s)return this.route.url.push({page:"",params:{}}),this.update(t,e,r);t===""?s.page=e:s.params[t]=e,this.route.path=y(this.route.url)}}class B extends m{constructor(t,e){super(t.webix),this.app=t,this._children=[]}ui(t,e){e=e||{};const r=e.container||t.container,s=this.app.createView(t);return this._children.push(s),s.render(r,this._segment,this),typeof t!="object"||t instanceof m?s:s.getRoot()}show(t,e){if(e=e||{},typeof t=="object"){for(const r in t)this.setParam(r,t[r]);t=null}else{if(t.substr(0,1)==="/")return this.app.show(t,e);if(t.indexOf("./")===0&&(t=t.substr(2)),t.indexOf("../")===0){const s=this.getParentView();return s?s.show(t.substr(3),e):this.app.show("/"+t.substr(3))}const r=this.getSubViewInfo(e.target);if(r){if(r.parent!==this)return r.parent.show(t,e);if(e.target&&e.target!=="default")return this._renderFrameLock(e.target,r.subview,{url:t,params:e.params})}else if(t)return this.app.show("/"+t,e)}return this._show(this._segment,{url:t,params:e.params},this)}_show(t,e,r){return t.show(e,r,!0).then(()=>(this._init_url_data(),this._urlChange())).then(()=>{t.route.linkRouter&&(this.app.getRouter().set(t.route.path,{silent:!0}),this.app.callEvent("app:route",[t.route.path]))})}init(t,e){}ready(t,e){}config(){this.app.webix.message("View:Config is not implemented")}urlChange(t,e){}destroy(){}destructor(){this.destroy(),this._destroyKids(),this._root&&(this._root.destructor(),super.destructor())}use(t,e){t(this.app,this,e)}refresh(){return this.getUrl(),this.destroy(),this._destroyKids(),this._destroySubs(),this._detachEvents(),this._container.tagName&&this._root.destructor(),this._segment.refresh(),this._render(this._segment)}render(t,e,r){typeof e=="string"&&(e=new b(e,0)),this._segment=e,this._parent=r,this._init_url_data(),t=t||document.body;const s=typeof t=="string"?this.webix.toNode(t):t;return this._container!==s?(this._container=s,this._render(e)):this._urlChange().then(()=>this.getRoot())}_render(t){const e=this.config();return e.then?e.then(r=>this._render_final(r,t)):this._render_final(e,t)}_render_final(t,e){let r=null,s=null,o=!1;if(this._container.tagName?s=this._container:(r=this._container,r.popup?(s=document.body,o=!0):s=this.webix.$$(r.id)),!this.app||!s)return Promise.reject(null);let i;const a=this._segment.current(),h={ui:{}};this.app.copyConfig(t,h.ui,this._subs),this.app.callEvent("app:render",[this,e,h]),h.ui.$scope=this,!r&&a.isNew&&a.view&&a.view.destructor();try{if(r&&!o){const c=s,l=c.getParentView();l&&l.name==="multiview"&&!h.ui.id&&(h.ui.id=c.config.id)}this._root=this.app.webix.ui(h.ui,s);const u=this._root;o&&u.setPosition&&!u.isVisible()&&u.show(),r&&(r.view&&r.view!==this&&r.view!==this.app&&r.view.destructor(),r.id=this._root.config.id,this.getParentView()||!this.app.app?r.view=this:r.view=this.app),a.isNew&&(a.view=this,a.isNew=!1),i=Promise.resolve(this._init(this._root,e)).then(()=>this._urlChange().then(()=>(this._initUrl=null,this.ready(this._root,e.suburl()))))}catch(u){i=Promise.reject(u)}return i.catch(u=>this._initError(this,u))}_init(t,e){return this.init(t,e.suburl())}_urlChange(){this.app.callEvent("app:urlchange",[this,this._segment]);const t=[];for(const e in this._subs){const r=this._subs[e],s=this._renderFrameLock(e,r,null);s&&t.push(s)}return Promise.all(t).then(()=>this.urlChange(this._root,this._segment.suburl()))}_renderFrameLock(t,e,r){if(!e.lock){const s=this._renderFrame(t,e,r);s&&(e.lock=s.then(()=>e.lock=null,()=>e.lock=null))}return e.lock}_renderFrame(t,e,r){if(t==="default")if(this._segment.next()){let o=r?r.params:null;return e.params&&(o=this.webix.extend(o||{},e.params)),this._createSubView(e,this._segment.shift(o))}else e.view&&e.popup&&(e.view.destructor(),e.view=null);if(r!==null&&(e.url=r.url,e.params&&(r.params=this.webix.extend(r.params||{},e.params))),e.route){if(r!==null)return e.route.show(r,e.view).then(()=>this._createSubView(e,e.route));if(e.branch)return}let s=e.view;if(!s&&e.url){if(typeof e.url=="string")return e.route=new b(e.url,0),r&&e.route.setParams(e.route.route.url,r.params,0),e.params&&e.route.setParams(e.route.route.url,e.params,0),this._createSubView(e,e.route);if(typeof e.url=="function"&&!(s instanceof e.url)){const o=this.app._override(e.url);o.prototype instanceof V?s=new o({app:this.app}):s=new o(this.app,"")}s||(s=e.url)}if(s)return s.render(e,e.route||this._segment,this)}_initError(t,e){return this.app&&this.app.error("app:error:initview",[e,t]),!0}_createSubView(t,e){return this.app.createFromURL(e.current()).then(r=>r.render(t,e,this))}_destroyKids(){const t=this._children;for(let e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]}}class X extends B{constructor(t,e){super(t,e),this._ui=e.ui}config(){return this._ui}}class Y{constructor(t,e,r){this.path="",this.app=r}set(t,e){this.path=t;const r=this.app;r.app.getRouter().set(r._segment.append(this.path),{silent:!0})}get(){return this.path}}let A=!0;class V extends m{constructor(t){const e=(t||{}).webix||window.webix;t=e.extend({name:"App",version:"1.0",start:"/home"},t,!0),super(e,t),this.config=t,this.app=this.config.app,this.ready=Promise.resolve(),this._services={},this.webix.extend(this,this.webix.EventSystem)}getUrl(){return this._subSegment.suburl()}getUrlString(){return this._subSegment.toString()}getService(t){let e=this._services[t];return typeof e=="function"&&(e=this._services[t]=e(this)),e}setService(t,e){this._services[t]=e}destructor(){this.getSubView().destructor(),super.destructor()}copyConfig(t,e,r){if((t instanceof m||typeof t=="function"&&t.prototype instanceof m)&&(t={$subview:t}),typeof t.$subview<"u")return this.addSubView(t,e,r);const s=t instanceof Array;e=e||(s?[]:{});for(const o in t){let i=t[o];if(typeof i=="function"&&i.prototype instanceof m&&(i={$subview:i}),i&&typeof i=="object"&&!(i instanceof this.webix.DataCollection)&&!(i instanceof RegExp)&&!(i instanceof Map))if(i instanceof Date)e[o]=new Date(i);else{const a=this.copyConfig(i,i instanceof Array?[]:{},r);a!==null&&(s?e.push(a):e[o]=a)}else e[o]=i}return e}getRouter(){return this.$router}clickHandler(t,e){if(t&&(e=e||t.target||t.srcElement,e&&e.getAttribute)){const s=e.getAttribute("trigger");if(s)return this._forView(e,i=>i.app.trigger(s)),t.cancelBubble=!0,t.preventDefault();const o=e.getAttribute("route");if(o)return this._forView(e,i=>i.show(o)),t.cancelBubble=!0,t.preventDefault()}const r=e.parentNode;r&&this.clickHandler(t,r)}getRoot(){return this.getSubView().getRoot()}refresh(){return this._subSegment?this.getSubView().refresh().then(t=>(this.callEvent("app:route",[this.getUrl()]),t)):Promise.resolve(null)}loadView(t){const e=this.config.views;let r=null;if(t==="")return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{e&&(typeof e=="function"?r=e(t):r=e[t],typeof r=="string"&&(t=r,r=null)),r||(t==="_hidden"?r={hidden:!0}:t==="_blank"?r={}:(t=t.replace(/\./g,"/"),r=this.require("jet-views",t)))}catch(s){r=this._loadError(t,s)}return r.then||(r=Promise.resolve(r)),r=r.then(s=>s.__esModule?s.default:s).catch(s=>this._loadError(t,s)),r}_forView(t,e){const r=this.webix.$$(t);r&&e(r.$scope)}_loadViewDynamic(t){return null}createFromURL(t){let e;return t.isNew||!t.view?e=this.loadView(t.page).then(r=>this.createView(r,"",t.params)):e=Promise.resolve(t.view),e}_override(t){const e=this.config.override;if(e){let r;for(;t;)r=t,t=e.get(t);return r}return t}createView(t,e,r){t=this._override(t);let s;if(typeof t=="function"){if(t.prototype instanceof V)return new t({app:this,name:e,params:r,router:Y});if(t.prototype instanceof m)return new t(this,{name:e,params:r});t=t(this)}return t instanceof m?s=t:s=new X(this,{name:e,ui:t}),s}show(t,e){return t&&this.app&&t.indexOf("//")==0?this.app.show(t.substr(1),e):this.render(this._container,t||this.config.start,e)}trigger(t,...e){this.apply(t,e)}apply(t,e){this.callEvent(t,e)}action(t){return this.webix.bind(function(...e){this.apply(t,e)},this)}on(t,e){this.attachEvent(t,e)}use(t,e){t(this,null,e)}error(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug){for(var r=0;r<e.length;r++)if(console.error(e[r]),e[r]instanceof Error){let s=e[r].message;s.indexOf("Module build failed")===0?(s=s.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML=`<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>${s}</pre>`):(s+="<br><br>Check console for more details",this.webix.message({type:"error",text:s,expire:-1}))}debugger}}render(t,e,r){this._container=typeof t=="string"?this.webix.toNode(t):t||document.body;const s=!this.$router;let o=null;s?(A&&"tagName"in this._container&&(this.webix.event(document.body,"click",c=>this.clickHandler(c)),A=!1),typeof e=="string"&&(e=new b(e,0)),this._subSegment=this._first_start(e),this._subSegment.route.linkRouter=!0):typeof e=="string"?o=e:this.app?o=e.split().route.path||this.config.start:o=e.toString();const i=r?r.params:this.config.params||null,a=this.getSubView(),h=this._subSegment,u=h.show({url:o,params:i},a).then(()=>this.createFromURL(h.current())).then(c=>c.render(t,h)).then(c=>(this.$router.set(h.route.path,{silent:!0}),this.callEvent("app:route",[this.getUrl()]),c));return this.ready=this.ready.then(()=>u),u}getSubView(){if(this._subSegment){const t=this._subSegment.current().view;if(t)return t}return new B(this,{})}require(t,e){return null}_first_start(t){this._segment=t;const e=r=>setTimeout(()=>{this.show(r).catch(s=>{if(!(s instanceof x))throw s})},1);if(this.$router=new this.config.router(e,this.config,this),this._container===document.body&&this.config.animation!==!1){const r=this._container;this.webix.html.addCss(r,"webixappstart"),setTimeout(()=>{this.webix.html.removeCss(r,"webixappstart"),this.webix.html.addCss(r,"webixapp")},10)}if(t){if(this.app){const r=t,s=t.current().view;t.current().view=this,t.next()?(t.refresh(),t=t.split()):t=new b(this.config.start,0),r.current().view=s||this}}else{let r=this.$router.get();r||(r=this.config.start,this.$router.set(r,{silent:!0})),t=new b(r,0)}return t}_loadError(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}}addSubView(t,e,r){const s=t.$subview!==!0?t.$subview:null,o=t.name||(s?this.webix.uid():"default");return e.id=t.id||"s"+this.webix.uid(),(r[o]={id:e.id,url:s,branch:t.branch,popup:t.popup,params:t.params}).popup?null:e}}class z{constructor(t,e){this.config=e||{},this._detectPrefix(),this.cb=t,window.onpopstate=()=>this.cb(this.get())}set(t,e){if(this.config.routes){const r=t.split("?",2);for(const s in this.config.routes)if(this.config.routes[s]===r[0]){t=s+(r.length>1?"?"+r[1]:"");break}}this.get()!==t&&window.history.pushState(null,null,this.prefix+this.sufix+t),(!e||!e.silent)&&setTimeout(()=>this.cb(t),1)}get(){let t=this._getRaw().replace(this.prefix,"").replace(this.sufix,"");if(t=t!=="/"&&t!=="#"?t:"",this.config.routes){const e=t.split("?",2),r=this.config.routes[e[0]];r&&(t=r+(e.length>1?"?"+e[1]:""))}return t}_detectPrefix(){const t=this.config.routerPrefix;this.sufix="#"+(typeof t>"u"?"!":t),this.prefix=document.location.href.split("#",2)[0]}_getRaw(){return document.location.href}}let C=!1;function q(n){if(C||!n)return;C=!0;const t=window;t.Promise||(t.Promise=n.promise);const e=n.version.split(".");e[0]*10+e[1]*1<53&&(n.ui.freeze=function(i){const a=i();return a&&a.then?a.then(function(h){return n.ui.$freeze=!1,n.ui.resize(),h}):(n.ui.$freeze=!1,n.ui.resize()),a});const r=n.ui.baselayout.prototype.addView,s=n.ui.baselayout.prototype.removeView,o={addView(i,a){if(this.$scope&&this.$scope.webixJet&&!i.queryView){const h=this.$scope,u={};i=h.app.copyConfig(i,{},u),r.apply(this,[i,a]);for(const c in u)h._renderFrame(c,u[c],null).then(()=>{h._subs[c]=u[c]});return i.id}else return r.apply(this,arguments)},removeView(){if(s.apply(this,arguments),this.$scope&&this.$scope.webixJet){const i=this.$scope._subs;for(const a in i){const h=i[a];n.$$(h.id)||(h.view.destructor(),delete i[a])}}}};n.extend(n.ui.layout.prototype,o,!0),n.extend(n.ui.baselayout.prototype,o,!0),n.protoUI({name:"jetapp",$init(i){this.$app=new this.app(i);const a=n.uid().toString();i.body={id:a},this.$ready.push(function(){this.callEvent("onInit",[this.$app]),this.$app.render({id:a})})}},n.ui.proxy,n.EventSystem)}class tt extends V{constructor(t){t.router=t.router||z,super(t),q(this.webix)}require(t,e){return require(t+"/"+e)}}class et{constructor(t,e){this.path="",this.cb=t}set(t,e){this.path=t,(!e||!e.silent)&&setTimeout(()=>this.cb(t),1)}get(){return this.path}}function rt(n,t,e){t.on(n,"app:guard",function(r,s,o){if(s===t||s.contains(t)){const i=e();i===!1?o.confirm=Promise.reject(new x):o.confirm=o.confirm.then(()=>i)}})}function R(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function P(n,t,e){for(var r in n)R(n,r)&&t.call(e||n,n[r],r,n)}function st(n){return n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function nt(n){n="Warning: "+n,typeof console<"u"&&console.error(n);try{throw new Error(n)}catch{}}var T=String.prototype.replace,K=String.prototype.split,E="||||",$=function(n){var t=n%10;return n!==11&&t===1?0:2<=t&&t<=4&&!(n>=12&&n<=14)?1:2},it={arabic:function(n){if(n<3)return n;var t=n%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:$,chinese:function(){return 0},croatian:$,french:function(n){return n>1?1:0},german:function(n){return n!==1?1:0},russian:$,lithuanian:function(n){return n%10===1&&n%100!==11?0:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?1:2},czech:function(n){return n===1?0:n>=2&&n<=4?1:2},polish:function(n){if(n===1)return 0;var t=n%10;return 2<=t&&t<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!==1||n%100===11?1:0},slovenian:function(n){var t=n%100;return t===1?0:t===2?1:t===3||t===4?2:3}},ot={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function ut(n){var t={};return P(n,function(e,r){P(e,function(s){t[s]=r})}),t}function at(n){var t=ut(ot);return t[n]||t[K.call(n,/-/,1)[0]]||t.en}function ht(n,t){return it[at(n)](t)}function D(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ct(n){var t=n&&n.prefix||"%{",e=n&&n.suffix||"}";if(t===E||e===E)throw new RangeError('"'+E+'" token is reserved for pluralization');return new RegExp(D(t)+"(.*?)"+D(e),"g")}var lt=/\$/g,pt="$$",ft=/%\{(.*?)\}/g;function j(n,t,e,r){if(typeof n!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(t==null)return n;var s=n,o=r||ft,i=typeof t=="number"?{smart_count:t}:t;if(i.smart_count!=null&&s){var a=K.call(s,E);s=st(a[ht(e||"en",i.smart_count)]||a[0])}return s=T.call(s,o,function(h,u){return!R(i,u)||i[u]==null?h:T.call(i[u],lt,pt)}),s}function w(n){var t=n||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var e=t.allowMissing?j:null;this.onMissingKey=typeof t.onMissingKey=="function"?t.onMissingKey:e,this.warn=t.warn||nt,this.tokenRegex=ct(t.interpolation)}w.prototype.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale};w.prototype.extend=function(n,t){P(n,function(e,r){var s=t?t+"."+r:r;typeof e=="object"?this.extend(e,s):this.phrases[s]=e},this)};w.prototype.unset=function(n,t){typeof n=="string"?delete this.phrases[n]:P(n,function(e,r){var s=t?t+"."+r:r;typeof e=="object"?this.unset(e,s):delete this.phrases[s]},this)};w.prototype.clear=function(){this.phrases={}};w.prototype.replace=function(n){this.clear(),this.extend(n)};w.prototype.t=function(n,t){var e,r,s=t??{};if(typeof this.phrases[n]=="string")e=this.phrases[n];else if(typeof s._=="string")e=s._;else if(this.onMissingKey){var o=this.onMissingKey;r=o(n,s,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+n+'"'),r=n;return typeof e=="string"&&(r=j(e,s,this.currentLocale,this.tokenRegex)),r};w.prototype.has=function(n){return R(this.phrases,n)};w.transformPhrase=function(n,t,e){return j(n,t,e)};function dt(n,t,e){e=e||{};const r=e.storage;let s=r?r.get("lang")||"en":e.lang||"en";function o(u,c,l){c.__esModule&&(c=c.default);const p={phrases:c};e.polyglot&&n.webix.extend(p,e.polyglot);const f=h.polyglot=new w(p);if(f.locale(u),h._=n.webix.bind(f.t,f),s=u,r&&r.put("lang",s),e.webix){const g=e.webix[u];g&&n.webix.i18n.setLocale(g)}return l?Promise.resolve():n.refresh()}function i(){return s}function a(u,c){if(e.path===!1)return;if(typeof e.path=="function"){e.path(u).then(f=>o(u,f,c));return}const l=(e.path?e.path+"/":"")+u,p=n.require("jet-locales",l);o(u,p,c)}const h={getLang:i,setLang:a,setLangData:o,_:null,polyglot:null};n.setService("locale",h),a(s,!0)}function N(n,t,e){t.urls?e=t.urls[e]||e:t.param&&(e={[t.param]:e}),n.show(e)}function gt(n,t,e){const r=t.getSubViewInfo().parent,s=t.$$(e.id||e);let o=!1;s.attachEvent("onchange",function(){o||N(r,e,this.getValue())}),s.attachEvent("onafterselect",function(){if(!o){let i=null;s.setValue?i=this.getValue():s.getSelectedId&&(i=s.getSelectedId()),N(r,e,i)}}),t.on(n,"app:route",function(){let i="";if(e.param)i=t.getParam(e.param,!0);else{const a=r.getUrl()[1];a&&(i=a.page)}i&&(o=!0,s.setValue&&s.getValue()!==i?s.setValue(i):s.select&&s.exists(i)&&s.getSelectedId()!==i&&s.select(i),o=!1)})}const _t={good:"check",error:"warning",saving:"refresh fa-spin"},wt={good:"Ok",error:"Error",saving:"Connecting..."};function mt(n,t,e){let r="good",s=0,o=!1,i=e.expire;!i&&i!==!1&&(i=2e3);const a=e.texts||wt,h=e.icons||_t;typeof e=="string"&&(e={target:e});function u(d){const _=t.$$(e.target);_&&(d||(d="<div class='status_"+r+"'><span class='webix_icon fa-"+h[r]+"'></span> "+a[r]+"</div>"),_.setHTML(d))}function c(){s--,S("good")}function l(d){s--,S("error",d)}function p(d){s++,S("saving"),d&&d.then&&d.then(c,l)}function f(){return r}function g(){s===0&&u(" ")}function S(d,_){s<0&&(s=0),d==="saving"?(r="saving",u()):(o=d==="error",s===0&&(r=o?"error":"good",o?n.error("app:error:server",[_.responseText||_]):i&&setTimeout(g,i),u()))}function k(d){const _=n.webix.dp(d);_&&(t.on(_,"onAfterDataSend",p),t.on(_,"onAfterSaveError",(H,J,I)=>l(I)),t.on(_,"onAfterSave",c))}n.setService("status",{getStatus:f,setStatus:S,track:k}),e.remote&&t.on(n.webix,"onRemoteCall",p),e.ajax&&t.on(n.webix,"onBeforeAjax",(d,_,H,J,I,Lt,W)=>{p(W)}),e.data&&k(e.data)}function bt(n,t,e){e=e||{};const r=e.storage;let s=r?r.get("theme")||"material-default":e.theme||"material-default";const o={getTheme(){return s},setTheme(i,a){const h=i.split("-"),u=document.getElementsByTagName("link");for(let c=0;c<u.length;c++){const l=u[c].getAttribute("title");l&&(l===i||l===h[0]?u[c].disabled=!1:u[c].disabled=!0)}n.webix.skin.set(h[0]),n.webix.html.removeCss(document.body,"theme-"+s),n.webix.html.addCss(document.body,"theme-"+i),s=i,r&&r.put("theme",i),a||n.refresh()}};n.setService("theme",o),o.setTheme(s,!0)}function M(n,t,e){for(let r=0;r<e.length;r++)n[e[r]]=t[r+1]?t[r+1].page:""}function vt(n,t,e){const r=e.route||e,s={};t.on(n,"app:urlchange",function(a,h){t===a&&(M(s,h.suburl(),r),h.size(r.length+1))});const o=t.setParam,i=t.getParam;t.setParam=function(a,h,u){const c=r.indexOf(a);if(c>=0){if(s[a]=h,this._segment.update("",h,c+1),u)return t.show(null)}else return o.call(this,a,h,u)},t.getParam=function(a,h){const u=s[a];return typeof u<"u"?u:i.call(this,a,h)},M(s,t.getUrl(),r)}function yt(n,t,e){e=e||{};const r=e.login||"/login",s=e.logout||"/logout",o=e.afterLogin||n.config.start,i=e.afterLogout||"/login",a=e.ping||5*60*1e3,h=e.model;let u=e.user;const c={getUser(){return u},getStatus(p){return p?h.status().catch(()=>null).then(f=>{u=f}):u!==null},login(p,f){return h.login(p,f).then(g=>{if(u=g,!g)throw new Error("Access denied");n.callEvent("app:user:login",[u]),n.show(o)})},logout(){return u=null,h.logout().then(p=>(n.callEvent("app:user:logout",[]),p))}};function l(p,f){p===s?(c.logout(),f.redirect=i):p!==r&&!c.getStatus()&&(f.redirect=r)}n.setService("user",c),n.attachEvent("app:guard",function(p,f,g){return e.public&&e.public(p)?!0:(typeof u>"u"&&(g.confirm=c.getStatus(!0).then(()=>l(p,g))),l(p,g))}),a&&setInterval(()=>c.getStatus(!0),a)}let F=window.webix;F&&q(F);const xt={UnloadGuard:rt,Locale:dt,Menu:gt,Theme:bt,User:yt,Status:mt,UrlParam:vt},L=window;L.Promise||(L.Promise=L.webix.promise);const St=Object.assign({"./views/administration/sideBar.js":()=>v(()=>import("./sideBar-416523a6.js"),[]),"./views/data.js":()=>v(()=>import("./data-a46a55f0.js"),[]),"./views/header.js":()=>v(()=>import("./header-5075b097.js"),[]),"./views/start.js":()=>v(()=>import("./start-592a1cd0.js"),[]),"./views/top.js":()=>v(()=>import("./top-99ad75fe.js"),["assets/top-99ad75fe.js","assets/sideBar-416523a6.js","assets/header-5075b097.js"])}),Et=n=>St[`./views/${n}.js`]().then(t=>t.default),Pt=Object.assign({"./locales/de.js":()=>v(()=>import("./de-20bdb0ce.js"),[]),"./locales/en.js":()=>v(()=>import("./en-827e44e0.js"),[])}),Vt=n=>Pt[`./locales/${n}.js`]().then(t=>t.default);class $t extends tt{constructor(t){const e={id:"PPV",version:"1.0.0",router:{}.VITE_BUILD_AS_MODULE?et:z,debug:!1,start:"/top/start",name:"PPV",views:Et};super({...e,...t}),this.use(xt.Locale,{path:Vt,storage:this.webix.storage.session})}}({}).VITE_BUILD_AS_MODULE||webix.ready(()=>new $t().render());export{xt as x,B as z};
